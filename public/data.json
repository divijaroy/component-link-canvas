{
  "system": {
    "name": "NEO BCAP",
    "description": "Real-time budget capping systems for Display & PCA Ads",
    "labels": [
      { "label": "dc", "value": "GCP" },
      { "label": "overall_lag", "value": "$eval({\"url\": \"https://www.random.org/integers/?num=1&min=1&max=6&col=1&base=10&format=plain&rnd=new\", \"type\": \"text\"})" }
    ],
    "total_components": 4,
    "status": "healthy",
    "links": {
      "dashboard": null,
      "monitoring": "https://cosmos.fkcloud.in/d/Vae4LUK4k/bcap-3-0?orgId=1",
      "metrics": "https://cosmos.fkcloud.in/d/Vae4LUK4k/bcap-3-0?orgId=1",
      "documentation": "https://confluence.fkinternal.com/display/SKADOOSH/Multitenant+BCAP+3.0+-+DRB"
    }
  },
  "components": [
    {
      "name": "Raw Streaming Jobs",
      "id": "raw",
      "type": "component",
      "labels": [
        { "label": "Type", "value": "Spark Streaming" }
      ],
      "metrics_ui_link": "https://cosmos.fkcloud.in/d/Vae4LUK4k/bcap-3-0?orgId=1#:~:text=Archived%20dashboard-,Raw%20Jobs",
      "app_ui_link":"https://console.cloud.google.com/dataproc/clusters/fkp-fdp-moon-deb11-m3optimization-202501201229/monitoring?region=asia-south1&inv=1&invt=Ab0v7g&project=fkp-fdphadoop-krios",
      "components": [
        {
          "name": "Ads DCI",
          "id": "dci",
          "type": "component",
          "labels": [
            { "label": "lag", "value": "$eval({\"url\": \"http://get-metric-value\", \"type\": \"auto\"})" }
          ],
          "connections": [
            {
              "name": "Kafka",
              "target": "bdm"
            }
          ]
        },
        {
          "name": "Ads DCC",
          "id": "dcc",
          "type": "component",
          "labels": [
            { "label": "lag", "value": "$eval({\"url\": \"http://get-metric-value\", \"type\": \"auto\"})" }
          ],
          "connections": [
            {
              "name": "Viesti",
              "target": "bdm"
            }
          ]
        }
      ]
    },
    {
      "name": "Batch Jobs",
      "id": "batch",
      "type": "component",
      "app_ui_link": "http://fk-m3-opt-azkaban.fk-neo-bcap-p-prod.fkcloud.in/manager?project=NEO_BCAP_Deb_11_Prod",
      "labels": [
        { "label": "type", "value": "azkaban" }
      ],
      "components": [
        {
          "name": "Corrected Job",
          "id": "corrected",
          "type": "component",
          "app_ui_link": "http://fk-m3-opt-azkaban.fk-neo-bcap-p-prod.fkcloud.in/manager?project=NEO_BCAP_Deb_11_Prod&flow=CorrectedJob#executions",
          "labels": [
            { "label": "last-processed-batch", "value": "$eval({\"url\": \"http://get-metric-value\", \"type\": \"json\", \"jsonPath\": \".data.result[0].values[1][1]\"})" }
          ],
          "connections": [
            {
              "name": "Varadhi",
              "target": "bdm"
            }
          ]
        }
      ]
    },
    {
      "name": "Indexer",
      "id": "indexer",
      "type": "component",
      "app_ui_link": "http://ch2.kubernetes.alm-prod.fkcloud.in/kubernetes/clusters/gke-prod-1/dashboard/#/pod?namespace=fk-neo-spark-prod",
      "metrics_ui_link": "https://cosmos.fkcloud.in/d/Vae4LUK4k/bcap-3-0?orgId=1#:~:text=2%20panels)-,Indexer%20%2D%20MT,-Banner%20Group%20Ingestion",
      "labels": [
        { "label": "type", "value": "drop-wizard" },
        { "label": "dc", "value": "GCP" }
      ],
      "connections": [
        {
          "name": "Kafka",
          "target": "bdm"
        }
      ],
      "status": "$eval({\"url\": \"http://neo-bcap-indexer-service.fk-neo-spark-prod.fkcloud.in/elb-healthcheck\", \"type\": \"status\", \"successValue\": \"Healthy\", \"errorValue\": \"Unhealthy\"})"
    },
    {
      "name": "BDM",
      "id": "bdm",
      "type": "component",
      "app_ui_link": "https://console.cloud.google.com/dataproc/clusters/fkp-fdp-moon-deb11-m3optimization-202501201229/jobs?region=asia-south1&inv=1&invt=Ab0zDA&project=fkp-fdphadoop-krios",
      "metrics_ui_link": "https://cosmos.fkcloud.in/d/Vae4LUK4k/bcap-3-0?orgId=1#:~:text=18%20panels)-,BDM%20%2D%20MT,-BDM%20Events%20by",
      "labels": [
        { "label": "type", "value": "spark streaming" },
        { "label": "lag", "value": "$eval({\"url\": \"http://get-metric-value\", \"type\": \"auto\"})" }
      ],
      "connections": []
    }
  ]
} 